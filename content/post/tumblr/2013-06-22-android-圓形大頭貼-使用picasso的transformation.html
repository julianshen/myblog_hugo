---
date: "2013-06-22T01:31:57Z"
tags:
- IFTTT
- Blogger
- android
- android development
title: '[Android] 圓形大頭貼 - 使用Picasso的Transformation'
tumblr_url: http://blog.jln.co/post/53527975939/android-圓形大頭貼-使用picasso的transformation
---
現在不管是Google+也好, 或是Facebook (Home), 似乎都很喜歡用圓形的大頭貼像這樣 (左上角圖形,   <br/><div class="separator" style="clear: both; text-align: center;"><a href="http://bit.ly/10Ea6Kt" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://bit.ly/11DoFZH" width="225"/></a></div><br/>但在server端存的大頭照其實都是都是方形的, 所以必須抓下來後再轉畫成圓的, 最近從網路抓圖的部分, 我還蠻喜歡用<a href="http://bit.ly/10Ea9FT" target="_blank">Picasso</a>的<br/><br/><div class="separator" style="clear: both; text-align: center;"><a href="http://bit.ly/11DoFZJ" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="191" src="http://bit.ly/11DoFZJ" width="400"/></a></div>沒啥別的原因, 就是它簡單, 雖然說, 它似乎還是有一些小小問題, 不過它可以用這樣短短一行解決圖檔下載並顯示到ImageView的一連串動作:<br/><br/><pre class="prettyprint prettyprinted" style="background-color: whitesmoke; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border-top-left-radius: 4px; border-top-right-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); color: #666666; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 13px; line-height: 20px; margin-bottom: 20px; padding: 9.5px; white-space: pre-wrap; word-break: break-all; word-wrap: break-word;"><span style="background-color: #eeeeee;"><span class="typ" style="color: #222222;">Picasso</span><span class="pun" style="color: #888888;">.</span><span class="kwd">with</span><span class="pun" style="color: #888888;">(</span><span class="pln" style="color: black;">context</span><span class="pun" style="color: #888888;">).</span><span class="pln" style="color: black;">load</span><span class="pun" style="color: #888888;">(</span><span class="str" style="color: #953a39;">"http://bit.ly/11DoFZL"</span><span class="pun" style="color: #888888;">).</span><span class="kwd">into</span><span class="pun" style="color: #888888;">(</span><span class="pln" style="color: black;">imageView</span><span class="pun" style="color: #888888;">);</span></span></pre><div><br/>不過, 簡單的代價可能在其他的地方來說彈性就不高了, 不過, 做這樣一個小玩意兒的彈性倒是還有, 在Picasso中, 可以實作Transformation把下載下來的圖檔再作一次後處理, 在它的網頁有一個CropSquareTransformation的範例, 圓形的大頭貼可以視為這一個的延伸:</div><div><br/></div><div><script src="http://bit.ly/10Ea996"></script></div><div>這邊利用了BitmapShader重畫了一張圓形的大頭貼, 出來的結果就會像是這樣:<br/><div class="separator" style="clear: both; text-align: center;"><a href="http://bit.ly/11DoFZP" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://bit.ly/10Ea998" width="225"/></a></div><br/></div><div><br/></div><br/><br/>
via Blogger <a href="http://bit.ly/11DoEVG">http://bit.ly/11DoEVG</a>
